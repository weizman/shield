{let t=[],e=(document.currentScript.getAttribute("allowlist")||"").split(","),r={documentElement:Object.getOwnPropertyDescriptor(Document.prototype,"documentElement").get,body:Object.getOwnPropertyDescriptor(Document.prototype,"body").get,head:Object.getOwnPropertyDescriptor(Document.prototype,"head").get,scrollingElement:Object.getOwnPropertyDescriptor(Document.prototype,"scrollingElement").get,firstElementChild:Object.getOwnPropertyDescriptor(Document.prototype,"firstElementChild").get,lastElementChild:Object.getOwnPropertyDescriptor(Document.prototype,"lastElementChild").get,activeElement:Object.getOwnPropertyDescriptor(Document.prototype,"activeElement").get,firstChild:Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get,lastChild:Object.getOwnPropertyDescriptor(Node.prototype,"lastChild").get};function i(e,i,o,s){if(t.includes(JSON.stringify({object:e,value:i})))return;let l=[];for(;s&&r[i]?.call(document)!==s&&(s instanceof HTMLCollection||s instanceof Element);){for(let n of(l.push(s),["id","name"]))if(s.hasAttribute(n)){let c=s.getAttribute(n);s.setAttribute("shield_"+n,c),s.removeAttribute(n)}s=window[e][i]}if(isNaN(parseInt(i))){for(let p of(Object.defineProperty(window[e],i,{get:function(){throw Error(`${e}["${i}"] access attempt was intercepted:`)}}),t.push(JSON.stringify({object:e,value:i})),l))for(let a of["id","name"])if(p.hasAttribute("shield_"+a)){let d=p.getAttribute("shield_"+a);p.setAttribute(a,d),p.removeAttribute("shield_"+a)}}}function o(t){switch(t.nodeType){case Node.ELEMENT_NODE:let r=Array.from(t.querySelectorAll("*[id],*[name]")).concat(t);r.forEach(t=>Array.from(t.attributes).forEach(o.bind(t)));break;case Node.ATTRIBUTE_NODE:let{name:s,value:l}=t;e?.includes(l)||(i("window",l,s,this),i("document",l,s,this))}}function s(t){let e=new MutationObserver(t=>{t.forEach(t=>{switch(t.type){case"childList":t.addedNodes.forEach(t=>{o(t)});break;case"attributes":o(t.target)}})});e.observe(t,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["id","name"]})}s(document.documentElement)}